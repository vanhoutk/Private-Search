var proxy_queries="amazon;american+airlines;american+express;autozone;ariana+grande;apple;aol;amazon+prime;apple+watch;american+sniper;apple+store;adidas;amiibo;apple+tv;amazon+curated+collection+jewelry+gifts;amazon+curated+jewelry+collection;air+purifier;accuweather;autotrader;aol+mail;att+wireless;advance+auto+parts;armenian+genocide;angelina+jolie+syria;amazon.com;answers.com;ask.fm;autotrader.com;area+code+lookup;adobe+flash+player+10+free+download;aeropostale.com;all+about+the+bass;anaconda+nicki+minaj;animals+maroon+5;all+day+kanye+west;ariana+grande+one+last+time;ayo;ariana+grande+love+me+harder;avengers+2+trailer;august+alsina;b;bank+of+america;bruce+jenner;best+buy;barnes+and+noble;bing;buzzfeed;bed+bath+and+beyond;birdman;big+hero+6;bobbi+kristina;balloons;baby+gift;bluetooth+headphones;bluetooth+speakers;backpack;baby+registry;bluetooth+headset;beats+headphones;bloodborne;books+on+sale;britt+mchenry;backpage;babies+r+us;bass+pro+shop;big+lots;bruce+jenner+interview;blackhawks;bed+bath+and+beyond+website;bing.com+home+page;bank+of+america+online+banking;bestbuy.com;bestbuy;best+buy+stores;bible+verse+finder;beyonce;blank+space+taylor+swift;bruno+mars+uptown+funk;big+sean;bang+bang;blessings+big+sean;bethany+mota;bart+baker;bob+marley;craigslist;costco;chase;cnn;capital+one;calculator;craigslist+la;craigslist+oc;chris+kyle;credit+karma;citibank;iphone+6+case;coconut+oil;converse;coach;cards+against+humanity;car+accessories;computer+desk;iphone+5c+case;crocs;chromecast;cool+math+games;comcast;carmax;craigslist+los+angeles;ciara;cleveland+cavaliers;celtics;craigslist+classified;craigslist.org;cheap+airline+tickets;craigslist+official+website;cars.com;craigslists.com;chris+brown;chief+keef;chains+nick+jonas;centuries+fall+out+boy;captainsparklez;chandelier+sia;christina+aguilera;cinemasins;ciara+i+bet;crazy+in+love+fifty+shades+of+grey;d;dictionary;delta;drake;driving+directions;dallas+cowboys;dmv;disneyland;direct+tv;dominos;dropbox;disneyland+hours;dakota+johnson;desk;dresses;drone;disney;dresser;dvd;dresses+for+women+party;divergent;dragon+ball+z;drudge+report+2015;domino's+pizza;dillards;delta+airlines;dicks+sporting+goods;dish+network;diane+sawyer;david+ayer;dictionary+online;driving+directions+directions;dictionary+definitions+of+to;distance+between+two+places;definitions.com;delta.com;dude+perfect;dubstep;drake+legend;dragon+ball+xenoverse;drake+energy;drake+know+yourself;dogs;drake+if+you're+reading+this+it's+too+late;do+the+harlem+shake;ebay;espn;expedia;etsy;easter+2015;edison;edmodo;earthquake+today;ed+sheeran;edd;essential+oils;earbuds;echo;earphones;essential+oil+diffuser;external+hard+drive;easter;easter+basket;ear+plugs;extension+cord;ebay+motors;enterprise+car+rental;eonline;eonline+oscars+2015;eonline+kim+kardashian+wedding;eonline.com/kardashians;eva+mendes;earth+day;earth+day+2015;edible+arrangements;ebay+official+site;expedia+travel;ehow.com;english+to+spanish+translation;edmunds.com;example+of+cover+letters+for+jobs;eminem;ed+sheeran+thinking+out+loud+lyrics;earned+it+the+weeknd;ellie+goulding+love+me+like+you+do;epic+rap+battles+of+history;empire;elastic+heart;ellen+degeneres;erb;ellen;f;facebook;forever+21;fandango;facebook+login;fox+news;fifty+shades+of+grey;fedex;fitbit;frozen;facebook+sign+up;fafsa;fifty+shades+of+grey+movie;fitbit+charge+hr;free+kindle+books;fire+stick;fitbit+charge;free;fan;fire+tv;friv;fedex+tracking;food+network;florida+lottery;fast+and+furious+8;frank+miller+batman;ford;facebook+login+page+my+facebook;facebook+account+login;facebook+login+in;facebook.com;facebook+sign+in;five+nights+at+freddy's+3;funny+videos;fetty+wap+trap+queen;four+five+seconds+rihanna;fall+out+boy;five+nights+at+freddy's;funny+pranks;focus+lukasz;g;google;gmail;google+maps;google+translate;groupon;gamestop;google+earth;google+images;google+chrome;google+maps+driving+directions;google+drive;google+docs;game+of+thrones;galaxy+s6;galaxy+s5+case;baby+gift;galaxy+s6+case;wedding+gift;gps;gopro;gift+card;grey+s+anatomy;golden+state+warriors;geri+halliwell;google.com;google+chrome+download+free;gmail.com;google+maps+find+directions;game+theory;gangnam+style;game+grumps;good+mythical+morning;gdfr;gta+5;gmm;ghost+ella+henderson;gummy+bear+song;h;hotmail;home+depot;hulu;huffington+post;happy+wheels;harbor+freight;hsn;hm;horoscope;hot+topic;haiku;headphones;hdmi+cable;hammock;harry+potter;bluetooth+headphones;hookah;htc+one+m9;hair+extensions;hair+dryer;high+waisted+swimsuit;hobby+lobby;horoscopes;hotmail+inbox;hillary+clinton;hamilton;hsbc;homedepot.com;hotmail.com;hotels.com+worth+it;how+do+you+spell+a+word;hsn.com+home+page;how+far+is+it+from+city+to+city;happy+pharrell;honest+trailer;hozier+take+me+to+church;hot+niggga+bobby+shmurda;hip+hop;hydroponics;heartbeat+song+kelly+clarkson;hozier;h20+delirious;hallelujah;i;instagram;imdb;ikea;indeed;icloud;iggy+azalea;irs;itunes;iphone+6;into+the+woods;interstellar;iphone+6+case;iphone+6+plus+case;iphone+5c+case;iphone+5s+case;iphone+5s;iphone+5;ipad;iphone+5+case;ipad+mini+case;illinois+lottery;images;indianapolis+colts;iranian+ships+turn+back;ibrahim+ahmad;is+the+world+going+to+end+in+2012;is+santa+claus+real+yes+or+no;interview+questions+and+answers;is+shingles+contagious;indeed.com;i+need+to+no+how+to+spell+a+word;i+need+to+look+at+sample+resumes;i+don't+mind+usher;imagine+dragons;i+want+you+to+know+selena+gomez;i+really+like+you+carly+rae+jepsen;i+dont+fuk+with+you+big+sean+lyric+video;i+bet+ciara;ihascupquake;insurgent+trailer;iballisticsquid;j;justin+bieber;jetblue;jennifer+lawrence;jennifer+lopez;jennifer+aniston;jupiter+ascending;jamie+dornan;jupiter+grades;john+wick;james+franco;jordan+shoes;joggers;jawbone;jordan;jewelry;jansport+backpack;jawbone+up3;journal;jewelry+box;juicer;jcpenney;joann+fabrics;jessica+biel;jcp;jeep;joker+jared+leto;january+jones;josh+hamilton+texas;jcpenney.com;jcpenney+home+page;justin+bieber+quiz;jcpenny;jcpenny.com;jobs+in+my+area;jetblue.com;jimmy+fallon;jacksepticeye;jenna+marbles;jimmy+kimmel;j+cole;justin+bieber+roast;john+oliver;jealous+nick+jonas;jontron;k;kayak;kylie+jenner;kohl's;kim+kardashian;katy+perry;kanye+west;kendall+jenner;knotts+berry+farm;kingsman+the+secret+service;khan+academy;kindle;kindle+books;kindle+fire;keurig;kindle+fire+hd;kate+spade;knife;keyboard;k+cups;kmart;kelley+blue+book;kate+upton;kroger;kizi;keira+knightley;kelly+rowland;kat+dennings;kohls.com;kmart.com;kelly+y+blue+book;kelley+blue+book+used+car+value;kellybluebook.com;kayak+travel;kbb.com;kendrick+lamar;kevin+gates;key+and+peele;ksi;kanye+west+all+day;kevin+hart;know+yourself+drake;kelly+clarkson;;linkedin;lady+gaga;lego;lowes;lakers;la+times;la+fitness;los+angeles;league+of+legends;living+social;lululemon;lucy+clothing;laptop;led+lights;lilly+pulitzer;lightning+cable;lawn+mower;lg+g3+case;laptop+computer;lg+g3;lowe's;lane+bryant;louis+vuitton;lord+and+taylor;love+quotes;lands+end;lindsay+lohan;lowe's+home+improvement;loretta+lynch;lily+rose+depp;lamar+odom;lowes.com;lowes+stores;lowes+homes+improvement;liquid+measuring+chart;lookup+cell+phone+number+with+no+cost;login+in+to+my+email;lyrics+to+songs;little+einsteins+theme+song+remix;love+me+like+you+do+ellie+goulding;lil+wayne;let+it+go+frozen;lady+gaga+oscars+2015;little+einsteins+theme+song;lips+are+movin+meghan+trainor;lay+me+down+sam+smith;lil+durk;m;minecraft;maps;mapquest;macy's;msn;miley+cyrus;movies;metro+pcs;michaels;measles;mega+millions+numbers;mortal+kombat+x;moto+360;michael+kors+handbags;makeup;music;macbook+pro;makeup+organizer;mothers+day+gifts;mouse;mapquest+driving+directions;menards;mail;mortgage+calculator;monty+python;mothers+day+2015;mary+kate+olsen;mapquest.com;macys.com;macys;maps+quest+driving+directions;math+answers;map+quest;mapquest+driving+directions+to+and+from;markiplier;maroon+5;miranda+sings;michael+jackson;meghan+trainor;migos;minecraft+song;n;nfl;nba;nike;netflix;nordstrom;news;nicki+minaj;national+weather+service;nordstrom+rack;nba+standings;nfl+scores;nike+shoes;new+balance;note+4+case;nike+air+max;notebook;nespresso;nike+socks;note+4;nba+2k15;nascar;neiman+marcus;noaa;niall+leonard;new+york+herd+buffalo;netflix+sign+in;netflix+movies;norwegian+cruise+lines;nomorerack.com;national+car+rental;nordstrom.com;nigahiga;no+type+rae+sremmurd;narwhal+song;no+flex+zone;new+songs+2015;nicki+minaj+anaconda;nickelback;nick+jonas+jealous;o;omegle;old+navy;overstock;orbitz;outlook;office+depot;olive+garden;one+direction;okcupid;oc+register;outlander;oakley+sunglasses;office+chair;outdoor+furniture;otterbox+iphone+6;oakley;otterbox+iphone+5s;oil+diffuser;omega+3;one+plus+one;oriental+trading;o'reilly+auto+parts;ohio+lottery;oprah+winfrey;ole+miss;oklahoma+st+probation;online+free+checking;oriental+trading+company;office+max;online+pregnancy+test;obituary+searches;obituaries;obama+healthcare+plan;only+nicki+minaj;one+last+time+ariana+grande;oscars+2015;outside+calvin+harris+ft+ellie+goulding;often+the+weeknd;one+direction+night+changes;or+nah+the+weeknd;one+republic;oscars+2015+full+show;p;pandora;pinterest;paypal;pizza+hut;party+city;priceline;papa+johns;powerball;patrick+dempsey;project+almanac;ps4;playstation+4;portable+charger;ps4+games;pie+face+game;pokemon;ps3;paper+towels;phones;iphone+6+plus+case;pof;pottery+barn;people;pogo;patricia+heaton;project+fi;president+ronald+reagan;phone+number+lookup;people+search+for+free;pill+identifier;payless+shoes;pregnancy+week+by+week;put+my+word+in+a+sentence;pinterest.com;pewdiepie;popularmmos;pentatonix;post+to+be;pranks;peppa+pig;pitbull;pink;prank+vs+prank;president;q;quickbooks;quicken+loans;quizlet;qvc;quinoa;quotes;queen+mary;quentin+tarantino;quotev;queen+mary+chill;quest+bars;quadcopter;queen+comforter+set;queen+bed+frame;queen+mattress;quilt;quest;queen+sheets;quiksilver;quest+diagnostics;queen+elizabeth;quill;qatar+airways;quicken;qualcomm;qvc.com;qvc+shopping+channel;qvc+home+shopping+network;quiz+to+tell+if+he+likes+you;quotes+about+being+inspirational;quinoa+recipes;quotes+about+life;queen;qka+ka+shpija;qjb;qartuli+simgerebi;quill18;queens+of+the+stone+age;qeris+ubani;queen+don't+stop+me+now;queen+somebody+to+love;queen+under+pressure;r;rotten+tomatoes;redbox;real+madrid;reverse+phone+lookup;rihanna;reddit;rate+my+professor;redfin;ralphs;rite+aid;radio+shack;ross;ray+ban+sunglasses;record+player;roku;rolex;ray+ban;raspberry+pi;reloj;refrigerator;rings;radio;roblox;restaurants;realtor;regions+bank;regal+cinemas;rooms+to+go;rachel+weisz;reba+mcentire;reverse+phone+number+lookup;realtor.com;royal+caribbean+cruise+home+page;resume+templates;redbox.com;rental+cars;ronda+rousey;react;rich+homie+quan;rae+sremmurd;ronda+rousey+vs+cat+zingano;romanatwood;riptide+vance+joy;rooster+teeth;romeo+santos;s;southwest;staples;sprint;selena+gomez;sawyer+sweeten;soundcloud;starbucks;super+bowl+2015;spotify;speed+test;skype;selfie+stick;samsung+galaxy+s5;star+wars;samsung+galaxy+s6;sunglasses;shoes;samsung+galaxy+s4;samsung;samsung+galaxy+s5+case;shakeology;southwest+airlines;sears;sam's+club;stubhub;sports+authority;spirit+airlines;sawyer+sweeten+from+tx;sawyer+sweeten+dead;sawyer+sweeten+died;sears.com;sign+into+my+yahoo+mail;southwest.com;scrabble+word+finder+words;spell+check;sprint.com;sally+beauty+supply;sugar+maroon+5;style+taylor+swift;sam+smith;smosh;ssundee;shake+it+off+taylor+swift;stampylonghead;slow+motion+trey+songz;skydoesminecraft;t;target;twitter;tmz;ticketmaster;time+warner+cable;taylor+swift;translate;tumblr;t+mobile;thesaurus;the+imitation+game;tablet;tv;trampoline;thermos;the+walking+dead;tv+stand;toms;tory+burch;game+of+thrones;transformers;toys+r+us;travelocity;tripadvisor;tractor+supply;tim+duncan;the+age+of+adaline;truffle+butter;target.com;travelocity.com;transportation+from+reno+to+tahoe;translate+english+to+spanish;type+in+algebra+problem+get+answer;turbotax;ticketmaster.com;trap+queen;take+me+to+church;thinking+out+loud;taylor+swift+style;thinking+out+loud+ed+sheeran;taylor+swift+blank+space;the+weeknd+earned+it;truffle+butter+nicki+minaj;the+voice;u;ups+tracking;usps;usps+tracking;united+airlines;ups;urban+dictionary;unbroken;urban+outfitters;uber;us+bank;under+armour;umbrella;usb+charger;ukulele;unlocked+cell+phones;usb+cable;under+armour+shoes;underwear;usb+wall+charger;usaa;us+airways;us+weekly;usps+track+and+confirm;ulta;us+sues+quicken;ukraine;us+forces+kill+hostages;usps.com;uninstall+ask;used+cars+for+sale+in+my+area;united+states+map+with+states;ups.com;uptown+funk;uptown+funk+lyrics;ufc;usher;use+the+force+luke;uberhaxornova;unfriended+official+trailer;up+like+trump;unfriended;uptown+funk+parody;v;virgin+mobile;vistaprint;vrbo;vans;victoria's+secret;verizon+wireless;virgin+america;verizon;volaris;vons;vimeo;vine;vape+pen;vaporizer;vacuum+cleaner;vitamin+c+serum;vape;vibration+machine+female;victorinox;vitamin+c;vanguard;verizon+wireless+my+account;value+city+furniture;vitamin+shoppe;vera+bradley;vin+diesel;valdosta+state+university+shut+down;vanessa+hudgens;verizonwireless.com;verizon.com;vrbo.com;vitamin+d+deficiency+symptoms+in+adults;vanossgaming;vines;vanoss;vice;vines+2015;vsauce;vevo;venturiantale;vitalyzdtv;vice+news;w;walmart;wells+fargo;wikipedia;walgreens;white+pages;wwe;weather;worldstarhiphop;weedmaps;whiplash;wingstop;wedding+gift;waist+trainer;watches;wireless+headphones;wii+u;walking+dead;wall+decals;water+bottle;apple+watch;weight+loss;weather+channel;wells+fargo+bank+login;webmd;worldstar+hiphop;whitey+bulger;warren+weinstein;weinstein+family+paid+ransom;walmart.com;what+does+my+name+mean;what+is+the+meaning+of+my+name;www.facebook.com;what+is+justin+biebers+phone+number;www.youtube.com;whitepages.com;wiz+khalifa;watchmojo;what+does+the+fox+say;watch+me+whip+and+nae+nae;wassabi+productions;what+is+love;whitney+houston;wiggle+jason+derulo;weeknd+earned+it;x;xbox+one;xbox;xbox+live;xfinity;xanax;xoom;xbox+360;xtramath;xbmc;xmovies8;xur;xbox+one+games;xbox+one+controller;xbox+360+controller;xbox+360+games;xbox+one+headset;xiaomi;xxxv+movie;xm+radio;xcel+energy;xerox+corp;xi+jinping;xfinity.com;xfinity+from+comcast;xbox+720+release+date;xbox+live+12+month+free;xm+radio+subscription;xbox+live+2+month+free+trial;xbox+360+cheats;xpertthief;x+factor;x+factor+2015;x+factor+2014;xxyyxx;xo+beyonce;xxproclassgamerxx;x+factor+best+auditions;x;y;youtube;yahoo;yahoo+mail;yahoo+news;yahoo+finance;yellow+pages;yoga;yelp;youtube+to+mp3;youtubeonfire;yogurtland;you;yoga+pants;yoga+mat;yugioh;young+living+essential+oils;yeti;younique+3d+fiber+lashes;yahoo+maps;youtube+video;yahoo+sports;youtube+broadcast+yourself;yellowstone+supervolcano;yanis+varoufakis;york+harbor;youtube.com;yahoo.com;youtube+broadcast+themselves;youtube+home;yellow+pages+online;you+broadcast+yourself;yahoo+mail+login+page;young+thug;yg;yogscast;youtubers+react;yelawolf;yo+gotti;young+jeezy;your+not+my+dad+vine;z;zayn+malik;zillow;zappos;zara;zumiez;zac+efron;zodiac+signs;zedd;zumba;zulily;zoe+saldana;zooey+deschanel;zippo;zte+zmax+phone+case;zelda;zapatos+de+mujer;zippo+lighter;ziploc+bags;zippy+sack;zojirushi;zapatos+nike;zip+code+lookup;zoosk;zales;zack+snyder;zayn+malik+thanks+one+direction;zillow.com;zip+codes+by+city;zip+code+finder+world;zappos.com;zip+codes+by+state;zip+code+maps+free;zoella;zedd+i+want+you+to+know;zac+brown+band;zendaya;zombie;zackscottgames;zumba+dance+workout"

var proxyQlist = getproxyQ(proxy_queries) ; // List of proxy queries
var proxyQCount = proxyQlist.length-1;
//var Pcount=0;
var instruct="";
var debug = 1;

function log(msg){ console.log(msg); }

/**
 * Splits the proxy query string into an array of queries
 * @param   {String} proxy_queries  String of proxy queries
 * @return  {Array}                 Array of proxy queries
 */
function getproxyQ(proxy_queries)
{
    (debug > 0) && log("getproxyQ()");
    var split_Qlist = proxy_queries.split(';');
    return split_Qlist;
}

/**
 * Returns a random integer between min and max inclusive
 * @param   {Int} min   Minimum integer
 * @param   {Int} max   Maximum integer
 * @return  {Int}       Random integer
 */
function getRandomInt(min, max) 
{
    (debug > 0) && log("getRandomInt()");
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

function runquery()
{
    (debug > 0) && log("runquery()");

    function infoReceived()
    {
        var output = httpRequest.responseText;
        if (output) 
        {
            postMessage("L");
        }
        httpRequest = null;
    }
    
    var httpRequest  = new XMLHttpRequest();
    var query = "http://www.google.com/search?hl=en&q=" + proxyQlist[getRandomInt(0,proxyQCount)];
    httpRequest.open( "GET", query);
    httpRequest.onload = infoReceived;
    httpRequest.withCredentials = true;
    httpRequest.send();
    //postMessage("F");
}
    
//var refreshIntervalId = setInterval(function() {
//     runquery();
//}, 12*1000);

var refreshIntervalId;

onmessage = function(event) 
{
    if (event.data)
    {
        instruct = event.data;
        (debug > 0) && log("INSTRUCT: " + instruct);
        postMessage("INSTRUCT:" + instruct );
    }

    if (instruct == "P") 
    {
        clearInterval(refreshIntervalId); 
        postMessage("paused");
        close();
    }
    else 
    {
        refreshIntervalId = setInterval(function() { runquery(); }, getRandomInt(10, 15) *1000);
        //runquery();     
    }
}